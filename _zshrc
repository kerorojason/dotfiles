# .zshrc

##
# Histroy
##

HISTSIZE=10000  # number of histories the shell will keep within one session
SAVEHIST=50000  # the number of lines of history to save

HISTFILE=$HOME/.zhistory

setopt APPEND_HISTORY          # append history list to the history file, rather than replace it
setopt HIST_EXPIRE_DUPS_FIRST  # drop duplicate histories first when hitting the history size limit
setopt EXTENDED_HISTORY        # save each commandâ€™s beginning timestamp and duration to history
setopt HIST_IGNORE_SPACE
setopt HIST_VERIFY
setopt INC_APPEND_HISTORY      # append entries to the history file as soon as they are entered
setopt SHARE_HISTORY


##
# Prompt Options
##

setopt PROMPT_SUBST


##
# Enable Colors
##

unset LSCOLORS
export CLICOLOR=1
export CLICOLOR_FORCE=1


##
# antibody
##

source <(antibody init)

bundles=(
  mafredri/zsh-async
  zdharma/fast-syntax-highlighting
  zsh-users/zsh-completions
  zsh-users/zsh-autosuggestions
  zsh-users/zsh-history-substring-search
  zdharma/history-search-multi-word
  jreese/zsh-titles
  marcoy/zsh-gitfast
)

antibody bundle < <(print -l $bundles)


##
# zsh-users/zsh-completions
##

autoload -U compinit && compinit


##
# zsh-users/zsh-history-substring-search
##

HISTORY_SUBSTRING_SEARCH_FUZZY=true          # "ab c" will match "*ab*c*""
HISTORY_SUBSTRING_SEARCH_ENSURE_UNIQUE=true  # only return unique search results

bindkey '^[[A' history-substring-search-up
bindkey '^[[B' history-substring-search-down

##
# zdharma/fast-syntax-highlighting
##

FAST_HIGHLIGHT_STYLES[unknown-token]='fg=red'


##
# Append fpath
##

fpath=( $fpath ~/.zsh/functions )


##
# Enable prompt
##

autoload -U promptinit; promptinit
prompt pure


##
# Load Shared Profile
##

. "$HOME/.shell_profile"
